<div class="bar clearfix">
  <a class="icon list-icon" ng-class="{active: layout == list}" ng-click="layout = list">
    <span class="glyphicon glyphicon-th-list"></span>
  </a>
  <a class="icon grid-icon" ng-class="{active: layout == grid}" ng-click="layout = grid">
    <span class="glyphicon glyphicon-th"></span>
  </a>
</div>

<ul ng-show="layout = 'grid'" class="grid">
  <li ng-repeat="p in pics">
    <a href="{{p.link}}" target="_blank">
      <img ng-src="{{p.images.low_resolution.url}}" alt="{{p.caption.text}}">
    </a>
  </li>
</ul>

<ul ng-show="layout == 'list'" class="list">
  <li ng-repeat="p in pics">
    <a href="{{p.link}}" target="_blank">
      <img ng-src="{{p.images.thumbnail.url}}" alt="{{p.caption.text}}">
      <p>{{p.caption.text}}</p>
    </a>
  </li>
</ul>